script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/phaser/2.6.2/phaser.min.js"
css:
  body {
    margin: 0;
  }
javascript:


  var text;
  var game = new Phaser.Game("100", "100", Phaser.AUTO, 'phaser-example', { preload: preload, create: create, update: update });

  function preload() {
    game.load.spritesheet('shoot', '/shoot.png', 1040, 740, 12);
    game.load.spritesheet('button', '/button_sprite_sheet.png', 193, 71);
  }

  var anim;
  var loopText;
  var punish;
  var mercy;
  var text;
  var style;
  var currentQuestion;

  function create() {
    shoot = game.add.sprite(10, 10, 'shoot', 2);
    shoot.scale.set(1);
    shoot.smoothed = false;
    anim = shoot.animations.add('walk');
    anim.onLoop.add(animationLooped, this);

    anim.play(10, false);
  }

  function animationLooped(sprite, animation) {
    if (animation.loopCount === 0)
    {
      style = { font: "bold 24px fedra", fill: "#fff", wordWrap: true, wordWrapWidth: 490 , align: "center"};
      text = game.add.text(30, 350, 'Ã‰xitooo' , style);
      game.add.button(200, 650, 'button', nextAction, this, 2, 1, 0);
    } else if (animation.loopCount === 1) {
          animation.loop = false;

    }
  }

  function nextAction() {
    window.location.href = "#{ player_game_path(@player, @game)}";
  }


  function update() {

  }